<html>
<head>
<title>AFD_CONFIG (afd_config.html)</title>
</head>
<body bgcolor="#F0ECD6">
<h1 align=center><a name="afd_config">The AFD_CONFIG file</a></h1>
<hr size=3 noshade>
<p>
This file contains some parameter settings that are always read when
the AFD is started. The following table shows and describes what
parameters can be set and which programs must be restarted to activate
the new value:
</p>
<table border>
<tr>
   <th>Parameter</th>
   <th>Description</th>
   <th>Default</th>
   <th>Restart</th>
</tr>
<tr>
   <td valign=top><a name="afd_tcp_port">AFD_TCP_PORT</a></td>
   <td>The TCP port number at which the process afdd will listen and
       wait for remote requests. If that port is currently in use
       by another program it will add one and see if that works
       so long until it finds a free port. NOTE: If this option
       is not set the afdd process will NOT start.</td>
   <td valign=top>4444</td>
   <td valign=top>afdd</td>
</tr>
<tr>
   <td valign=top>TRUSTED_REMOTE_IP</td>
   <td>Trusted IP-number that may connect to AFD_TCP_PORT. To
       enter more then one IP-number you must have the
       identifier TRUSTED_REMOTE_IP on a new line for each number.
       Wildcards may also be used when specifying the IP-number.
       If TRUSTED_REMOTE_IP is not set, all hosts may connect.</td>
   <td valign=top>None</td>
   <td valign=top>afdd</td>
</tr>
<tr>
   <td valign=top><a name="dir_config_name">DIR_CONFIG_NAME</a></td>
   <td>The file from where AFD will read it's configuration. This
       option may be used more then once, thus making it possible
       to read from multiple configuration files.</td>
   <td valign=top>$AFD_WORK_DIR/etc/DIR_CONFIG</td>
   <td valign=top>AMG</td>
</tr>
<tr>
   <td valign=top>MAX_NO_OF_DIR_CHECKS</td>
   <td>This is the number of times dir_check my fork itself to
       copy or exec some command.</td>
   <td valign=top>20</td>
   <td valign=top>AMG</td>
</tr>
<tr>
   <td valign=top>MAX_PROCESS_PER_DIR</td>
   <td>The maximum number of process that may be forked for one
       directory.</td>
   <td valign=top>10</td>
   <td valign=top>AMG</td>
</tr>
<tr>
   <td valign=top>AMG_DIR_RESCAN_TIME</td>
   <td>The rescan time of the local user directories in the DIR_CONFIG
       file. This does not effect the rescan time of remote directories,
       which is set with REMOTE_FILE_CHECK_INTERVAL. Don't pick a small
       value here if your system shows high system load when working
       with files or directories (eg. fault tolerant systems). This is
       also the interval time that the AMG checks if the DIR_CONFIG or
       HOST_CONFIG file have been changed. The unit is second.</td>
   <td valign=top>5</td>
   <td valign=top>AMG</td>
</tr>
<tr>
   <td valign=top>DEFAULT_DELETE_FILES_FLAG</td>
   <td>What to do with files that a certain age but cannot be transmited
       because either there is no rule (Unknown), they are being queued
       by AFD (Queued) or they are old locked files (Locked). By specifying
       one of the above those files will be automatically removed by AFD
       when DEFAULT_OLD_FILE_TIME value has been reached. To specify
       more then one type, just add the next with a space or comma as
       a separator sign and the whole string must be placed in ".</td>
   <td valign=top>Not set</td>
   <td valign=top>AMG</td>
</tr>
<tr>
   <td valign=top>DEFAULT_OLD_FILE_TIME</td>
   <td>When to delete Unknown, Queued or Locked files from one of AFD's
       input directories. The value is in hours.</td>
   <td valign=top>24</td>
   <td valign=top>AMG</td>
</tr>
<tr>
   <td valign=top>REMOVE_UNUSED_HOSTS</td>
   <td>By default AFD will never delete a host from HOST_CONFIG if the
       host is not found in DIR_CONFIG. With this option set, those hosts
       will be deleted.</td>
   <td valign=top>Not set</td>
   <td valign=top>AMG</td>
</tr>
<tr>
   <td valign=top>MAX_CONNECTIONS</td>
   <td>The maximum number of simultaneous connections/transfers that the
       AFD allows. Don't set this value to high since some environments
       allow only a limited number of process per user.</td>
   <td valign=top>50</td>
   <td valign=top>FD</td>
</tr>
<tr>
   <td valign=top>REMOTE_FILE_CHECK_INTERVAL</td>
   <td>The interval in second that the FD rescans remote directories for
       files. Do not set this value to low.</td>
   <td valign=top>60</td>
   <td valign=top>FD</td>
</tr>
<tr>
   <td valign=top><a name="create_target_dir">CREATE_TARGET_DIR</a></td>
   <td>If this is set to YES and the target directory does not exist it
       will be created automatically, unless the option
       <a href="dir_config.html#do_not_create_target_dir">do not create
       target dir</a> is set. If it is set to NO (default)
       it will not create the target directory. With the option
       <a href="dir_config.html#create_target_dir">create target dir</a>
       this can be overriden.</td>
    <td valign=top>NO</td>
    <td valign=top>FD</td>
</tr>
<tr>
   <td valign=top>DEFAULT_AGE_LIMIT</td>
   <td>Files older then the given seconds will be deleted by default,
       unless the age-limit is specified under options, then this
       value will be taken. A value of 0 will disable this, it is
       however still possible to set this value with the
       <a href="dir_config.html#age-limit">age-limit</a> option in
       DIR_CONFIG.</td>
   <td valign=top>0</td>
   <td valign=top>FD</td>
</tr>
<tr>
   <td valign=top>DEFAULT_SMTP_SERVER</td>
   <td>The default SMTP server where mails are to be send to. This can
       be an IP number or a hostname.</td>
   <td valign=top>localhost</td>
   <td valign=top>FD</td>
</tr>
<tr>
   <td valign=top><a name="default_smtp_from">DEFAULT_SMTP_FROM</a></td>
   <td>The default what will be put into the from line, if the from option
       is not set under [options]. If not set it will take the user- and
       hostname from the current system where AFD is running.</td>
   <td valign=top>&lt;current user&gt;@&lt;hostname&gt;</td>
   <td valign=top>FD</td>
</tr>
<tr>
   <td valign=top>MAX_COPIED_FILES</td>
   <td>The maximum number of files that are copied before they are
       send to the FD. This value is set so that the AFD starts sending
       files as soon as possible even when there are thousands of files
       waiting in the source directory to be send. Otherwise it might
       take to long to process all the files at once and time is lost
       that could be used to transmit data.</td>
   <td valign=top>100</td>
   <td valign=top>AMG</td>
</tr>
<tr>
   <td valign=top>MAX_COPIED_FILE_SIZE</td>
   <td>The maximum size in Kilobytes that are copied before they are
       send to the FD.</td>
   <td valign=top>100 MB</td>
   <td valign=top>AMG</td>
</tr>
<tr>
   <td valign=top>ONE_DIR_COPY_TIMEOUT</td>
   <td>When AMG has collected MAX_COPIED_FILES, it will try to continue to
       copy from this directory until it reaches the timeout set by this
       option in seconds.</td>
   <td valign=top>10</td>
   <td valign=top>AMG</td>
</tr>
<tr>
   <td valign=top>FULL_SCAN_TIMEOUT</td>
   <td>The timeout for scanning all directories. If set to 0 this is
       diasbled. When this is set it will only take effect if during a
       scan there are directories which still have files to be
       distributed but could not because of MAX_COPIED_FILES or some
       other limits. If FULL_SCAN_TIMEOUT has not been reached, it
       will try to continue with the full directories until
       FULL_SCAN_TIMEOUT is reached.</td>
   <td valign=top>0</td>
   <td valign=top>AMG</td>
</tr>
<tr>
   <td valign=top>DIR_CHECK_TIMEOUT</td>
   <td>When the administrator has marked one or more directories as
       important (with '*'), this is the minimum time that these
       directories have to wait during one scan of all directories.</td>
   <td valign=top>30</td>
   <td valign=top>AMG</td>
</tr>
<tr>
   <td valign=top>CREATE_SOURCE_DIR_MODE</td>
   <td>The permission of the source directories that found in the DIR_CONFIG
       and created by AMG if they are not there.</td>
   <td valign=top>775</td>
   <td valign=top>AMG</td>
</tr>
<tr>
   <td valign=top><a name="max_system_log_files">MAX_SYSTEM_LOG_FILES</a></td>
   <td>The number of old system logfiles that AFD keeps before they are
       deleted.</td>
   <td valign=top>4</td>
   <td valign=top><pre>&nbsp;</pre></td>
</tr>
<tr>
   <td valign=top><a name="max_receive_log_files">MAX_RECEIVE_LOG_FILES</a></td>
   <td>The number of old receive logfiles that AFD keeps before they are
       deleted.</td>
   <td valign=top>7</td>
   <td valign=top><pre>&nbsp;</pre></td>
</tr>
<tr>
   <td valign=top><a name="max_transfer_log_files">MAX_TRANSFER_LOG_FILES</a></td>
   <td>The number of old transfer logfiles that AFD keeps before they are
       deleted.</td>
   <td valign=top>7</td>
   <td valign=top><pre>&nbsp;</pre></td>
</tr>
<tr>
   <td valign=top><a name="max_trans_db_log_files">MAX_TRANS_DB_LOG_FILES</a></td>
   <td>The number of old transfer debug logfiles that AFD keeps before
       they are deleted.</td>
   <td valign=top>3</td>
   <td valign=top><pre>&nbsp;</pre></td>
</tr>
<tr>
   <td valign=top><a name="max_mon_sys_log_files">MAX_MON_SYS_LOG_FILES</a></td>
   <td>The number of old monitor system logfiles that AFD keeps before
       they are deleted.</td>
   <td valign=top>4</td>
   <td valign=top><pre>&nbsp;</pre></td>
</tr>
<tr>
   <td valign=top><a name="max_mon_log_files">MAX_MON_LOG_FILES</a></td>
   <td>The number of old monitor logfiles that AFD keeps before they are
       deleted.</td>
   <td valign=top>14</td>
   <td valign=top><pre>&nbsp;</pre></td>
</tr>
<tr>
   <td valign=top>MAX_INPUT_LOG_FILES</td>
   <td>The number of old input logfiles that AFD keeps before they are
       deleted.</td>
   <td valign=top>7</td>
   <td valign=top><pre>&nbsp;</pre></td>
</tr>
<tr>
   <td valign=top>MAX_PRODUCTION_LOG_FILES</td>
   <td>The number of old production logfiles that AFD keeps before they are
       deleted.</td>
   <td valign=top>7</td>
   <td valign=top><pre>&nbsp;</pre></td>
</tr>
<tr>
   <td valign=top>MAX_OUTPUT_LOG_FILES</td>
   <td>The number of old output logfiles that AFD keeps before they are
       deleted.</td>
   <td valign=top>7</td>
   <td valign=top><pre>&nbsp;</pre></td>
</tr>
<tr>
   <td valign=top>MAX_DELETE_LOG_FILES</td>
   <td>The number of old delete logfiles that AFD keeps before they are
       deleted.</td>
   <td valign=top>7</td>
   <td valign=top><pre>&nbsp;</pre></td>
</tr>
<tr>
   <td valign=top>DEFAULT_PRINTER_CMD</td>
   <td>With this option it is possible to set the printer command
       for your specific environment.</td>
   <td valign=top>&#34lpr -P&#34</td>
   <td valign=top><pre>&nbsp;</pre></td>
</tr>
<tr>
   <td valign=top>DEFAULT_PRINTER_NAME</td>
   <td>This option specifies the default printer for your system.</td>
   <td valign=top><pre>&nbsp;</pre></td>
   <td valign=top><pre>&nbsp;</pre></td>
</tr>
<tr>
   <td valign=top><a name="ping_cmd">PING_CMD</a></td>
   <td>Full path of the ping command plus any options. If there are options
       you must put the full command in ". The hostname will be added to the
       end of the command.</td>
   <td valign=top><pre>&nbsp;</pre></td>
   <td valign=top>AFD_CTRL</td>
</tr>
<tr>
   <td valign=top><a name="traceroute_cmd">TRACEROUTE_CMD</a></td>
   <td>Full path of the traceroute command plus any options. The hostname
       will be added to the end of the command.</td>
   <td valign=top><pre>&nbsp;</pre></td>
   <td valign=top>AFD_CTRL</td>
</tr>
<tr>
   <td valign=top>FAKE_USER &lt;fake user less&gt;</td>
   <td>This option allows the administrator to allow certain users
       to take up another identity, even if they do not exist on the
       system. This user will then be used to look up the permissions
       in the <a href="afd_users.html">afd.users</a> file. So if you for
       example give operators limited permission and do not want to
       create a new user, you can do the following:
       <pre>
             FAKE_USER     afd->operator
       </pre>
       If the user afd enters the following command:
       <pre>
             afd_ctrl -u operator
       </pre>
       the afd_ctrl dialog will come up with the permissions of
       operator.</td>
   <td valign=top><pre>&nbsp;</pre></td>
   <td valign=top><pre>&nbsp;</pre></td>
</tr>
</table>
<p>
When one of the above values is changed the appropriate process must be
restarted.
</p>
<hr size=3 noshade>
<table width=100%>
<tr>
   <td width=90%><small><address>
   Copyright &copy; 1999 - 2005 by H.Kiehl<br>
   <a href="mailto:Holger.Kiehl@dwd.de?subject=AFD Homepage">Holger.Kiehl@dwd.de</a><br>
   Last updated: 20.11.2005
   </address></small></td>
   <td nowrap><small><img align=middle src="../images/reddot.gif" alt="[red dot]"><a href="contents.html">Index</a></small></td>
   <td nowrap><small><img align=middle src="../images/reddot.gif" alt="[red dot]"><a href="index.html">Home</a></small></td>
   <!-- Insert site specific logo -->
</tr>
</table>
</body>
</html>
