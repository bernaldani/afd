

                               Version 1.3.x
                               =============

----------------------------> Version 1.3.0 <------------------------------
                             ---------------
04.02.2001 - Fork from 1.2.4.
15.08.2002 - Option to ignore files which have a certain size.
25.08.2002 - Added rename logging.
26.09.2002 - Automatic conversion of FSA when version changes.
13.10.2002 - Increase the standard I/O-buffer of all log programs
             to 262144 Bytes, to hopefully increase the disk utilization.
           - Added support for controlling the transfer rate per host.
30.10.2002 - Tell FD the producer of a message so we can save us the
             unlink() in archive_file().
05.01.2003 - Make the lock file configurable under the options entry.
07.02.2003 - The maximum number of files and size copied in one go is
             now configurable per directory under dir options.
15.02.2003 - Added new program grib2wmo to convert grib files to WMO
             container files.
21.02.2003 - The number of bytes send stored in statistics now also
             include those when file is only send partly.
           - Put in a version number in statistics database.
23.02.2003 - Added input statistics to afd_stat process.
02.03.2003 - Added program to show input statistics.
12.03.2003 - Added more CCCC's to wmoheader_from_grib() function.
14.03.2003 - afd_ctrl dialog now shows a history log of receive, system
             and transfer log at the bottom.
16.03.2003 - Support for having multiple DIR_CONFIG files.
26.04.2003 - Function trans_log() and trans_db_log() now take an
             additional argument so it is no longer necessary to always
             set first character of msg_str to 0.
29.04.2003 - Added functions fsa_attach_passive() and fra_attach_passive()
             to attach to the respective areas in read only mode. So that
             process that only read do not need the SUID flag set.
02.05.2003 - Password is now stored in a separate file.
10.07.2003 - AFD monitor can now also use ssh connections.
           - Added options field in AFD_MON_CONFIG to enable for example
             compression for ssh.
31.07.2003 - MSA now stores the number of jobs configured.
16.08.2003 - Added options to start using the given directory when a
             certain file has arrived and/or a certain number of files
             and/or the files in the directory have a certain size.
03.12.2003 - Added option to disconnect connection for AFD monitor.
20.12.2003 - If host switching is possible, save the HOST number of the
             active host in the HOST_CONFIG file.
           - Added search option for dir_ctrl and mon_ctrl dialogs.
26.12.2003 - Added tracing.
27.12.2003 - Fix fifo buffer overflow problem for system_log, mon_sys_log
             and trans_db_log process.
31.12.2003 - Remove limit for file mask by not storing them in the JID
             structure but a separate file.
04.01.2004 - Failed to reliably detect when a directory was no longer
             needed. Fixed.
05.01.2004 - Also store the original directory name as it is stored
             in DIR_CONFIG.
06.01.2004 - Store each DIR_CONFIG name and directory that was or is
             being used.
10.01.2004 - Added optional fast FTP renaming.
           - Remove check_reply() from ftpcmd.c and smtpcmd.c.
01.02.2004 - Implemented TLS/SSL authentication for FTP control
             connection.
03.03.2004 - Create target directory for sf_loc if it does not exist.
29.03.2004 - Dialogs no longer always have SYSTEM_LOG open.
03.04.2004 - Show CPU usage for exec options.
04.04.2004 - Implemented TLS/SSL authentication for FTP data
             connection.
17.04.2004 - When calling edit_hc from afd_ctrl, pass on the first
             selected host.
21.04.2004 - Implemented fast cd for FTP.
24.04.2004 - Implement HTTP and HTTPS protocol for fetching data.
29.04.2004 - Chunked downloads implemented for HTTP.
01.05.2004 - Option to initialize AFD.
13.06.2004 - Improved transfer rate limit and implemented it for all
             protocols.
27.06.2004 - Added error history.
07.08.2004 - Raise window and set focus when it is called again. This
             currently works only for local dialogs.
28.08.2004 - Implemented create remote directory if target directory
             does not exist.
01.09.2004 - show_olog and show_ilog can now show logs continuously as
             files arrive.
02.09.2004 - Added new directory option "ignore file time" to allow
             for AFD to pick up files that have a certain age or not
             to send files that are to old.
04.09.2004 - In AFD_CONFIG it is now possible to add a timeout for the
             exec and trans_exec options.
07.10.2004 - Function ftp_move() now creates the missing target
             directory if it does not exist on demand.
28.11.2004 - New [dir option] "delete old locked files" to remove old
             locked files.
18.12.2004 - Improve speed of show_olog dialog.
22.12.2004 - Improve speed of show_ilog and show_dlog dialog.
22.01.2005 - Implemented bursting for sf_wmo and sf_scp.
           - Widen internal structures to accommodate more protocols.
25.01.2005 - When starting queue do not automatically start the
             AUTO_PAUSE_QUEUE_STAT.
29.01.2005 - Exec option now takes parameters.
31.01.2005 - Teached fd not to burst if the port numbers differ.
06.02.2005 - Standalone dialog to send files with aftp and asmtp.
07.02.2005 - Added sending files from AFD queue with show_queue dialog.
09.02.2005 - Additional time entry structure in FRA to enable alarm
             times for directories.
           - Implemented central info file afd_info and mon_info dialog.
11.02.2005 - Implemented 'error actions'. If a host becomes red and
             in $AFD_WORK_DIR/etc/error_actions there is a script with
             the hostname this will be called with the parameter 'start'.
             If the error condition went away it will be called with the
             parameter 'stop'.
12.02.2005 - Fixed blinking error of AMG when shutting down AFD.
13.02.2005 - Added option to view all logs in show_log dialog.
           - Added search field in show_log dialog.
27.02.2005 - Increase history length for receive, system and transfer
             log to 48 hours.
           - Option to initialize AFD_MON.
           - Allow user to specify -Y option instead of -X for AFD_MON
             when it calls remote X programs via ssh.
           - Added switching AFD's in AFD_MON and mon_ctrl.
09.04.2005 - trans_log() failed to add a newline under certain
             conditions.
           - receive_log failed to detect to long lines and could crash.
           - Added a new case for deleting a file when overwriting is
             not permitted in ftpcmd().
           - Added more number of rows for afd_ctrl and mon_ctrl.
10.04.2005 - Automatically convert ls data format from 1.2.x to 1.3.0.
           - Implemented alternating numbers for load distribution.
14.04.2005 - Fix message fifo overflow bug in FD.
           - transfer_log failed to detect to long lines and could crash.
           - When all process for AMG are in use continue to process
             directories that are in the same filessystem and do not
             have the exec option set.
22.04.2005 - Implemented enabling/disabling certain features on a per
             host basis for afd_ctrl dialog.
23.04.2005 - Program afd and init_afd now use the heartbeat counter to
             detect if init_afd is still alive. This solves problems
             when using shared disks or GPFS.
28.04.2005 - Implemented enabling/disabling certain features on a per
             host basis for mon_ctrl dialog.
02.05.2005 - change_name() does not check if the filter ends and the
             filename matches so far that this mist be also the end
             of the filename. Having the rule "*_1 *" and the name
             a_1_222_1 would result in "a" and not "a_1_222". Fixed.
15.05.2005 - Fix sending files by mail with xsend_file dialog via
             show_olog and show_queue.
18.05.2005 - Added new options sohetx, wmo and sohetxwmo to convert
             option.
08.06.2005 - When searching for next file group in DIR_CONFIG we did
             not check if this was commented out. Fixed.
17.06.2005 - lookup_dir_id() always had one byte for CRC calculation
             that was not initialized, thus always generating different
             CRC's for the same directory name.
25.06.2005 - Added --enable-group_can_write to configure to enable
             group write access to fifo. This makes setuid bit for
             some layouts unnecessary.
01.07.2005 - If no configuration is found install some defaults.
           - Workaround for IIS FTP-server bug, disabled by default.
16.07.2005 - Made old_file_time and delete_files_flag configurable
             via AFD_CONFIG.
19.07.2005 - show_log with older Motif version did not show logs
             continuously. Fixed.
28.07.2005 - Make init script more LSB conform.
16.08.2005 - Added option "extract ASCII".
18.08.2005 - Option extract does now put a CRC32 checksum in hexa at
             the end of the filename instead of an arbitrary 4 digit
             number.
------------------------> Released: 18.08.2005 <---------------------------



----------------------------> Version 1.3.1 <------------------------------
                             ---------------
30.08.2005 - Added option DEFAULT_SMTP_SERVER in AFD_CONFIG to specify
             a default SMTP server where mails are being send.
           - Added option DEFAULT_SMTP_FROM in AFD_CONFIG to specify
             what is put into the from line of a mail.
05.09.2005 - eaccess() is now able to handle multiple users per group.
10.09.2005 - sf_ftp did not show the reply buffer under certain error
             conditions.
13.09.2005 - Handle the error case 'connection reset by peer' better.
14.09.2005 - At a certain point error jobs will now age much more
             quickly the more retries there have been.
19.09.2005 - If we fail to open system log fifo set file descriptor to
             STDERR_FILENO.
           - When --enable-setuid_progs is set, the program udc must
             also have the SETUID bit set.
21.09.2005 - Added option "sequence locking".
           - When updating DIR_CONFIG and a retrieving job has been
             removed, it could happen that other retrieving jobs that
             terminate would write to the wrong position in FRA.
22.09.2005 - sf_xxx deleted files that had dates in the future when
             age limit was set. Fixed.
24.09.2005 - Increase speed for initial visualizing of afd_ctrl and
             mon_ctrl dialog.
02.10.2005 - Dialog dir_info now shows all directory options.
03.10.2005 - Function check_fra_fd() incremented a wrong variable when
             a retrieve job was removed. Fixed.
           - If we kill a retrieve job that has just been removed from
             DIR_CONFIG, remove its zombie too.
05.10.2005 - In FRA remember what was in DIR_CONFIG. This helps
             to make a better reconstruction of DIR_CONFIG with command
             line tool get_dc_data.
09.10.2005 - When doing a scp transfer, show correct colors in job
             details dialog.
10.10.2005 - Function get_dir_options() would some times list every
             single minute, instead of a single *. Fixed.
15.10.2005 - Option to force a rescan of a directory where time option
             is set in [dir options] in afdcmd and dir_ctrl.
16.10.2005 - Font for menu 'Search + (De)Select' was not changed when
             we changed the font for the dir_ctrl dialog.
           - New parameter for afdcmd to enable/disable a directory.
17.10.2005 - Added event handler to error host list in mon_ctrl dialog
             to close this list if we click on it or move mouse cursor
             away from it.
           - Dialog show_ilog can now also search for files that are
             retrieved from a remote host.
28.10.2005 - New AFD_CONFIG option REMOVE_UNUSED_HOSTS to remove unused
             hosts from the FSA.
08.11.2005 - Fix a bug where show_ilog crashes on a 64 bit system.
           - For acceleration keys in afd_ctrl, dir_ctrl and mon_ctrl
             dialog allow user to change Alt+<Key> combination to
             Ctrl+<Key> with the configure option:
                  --enable-with_ctrl_accelerator
14.11.2005 - Update next check time in FD even when retrieving is
             disabled.
21.11.2005 - In check_file_dir() check if the directory actually
             contains files. If not just silently (just debug) delete
             the directory.
22.11.2005 - From dir_ctrl dialog selecting one or more directories
             will now show up in show_ilog, show_olog and show_dlog
             dialog.
           - In httpcmd.c we may not send an empty line in the HTTP
             header. This always happens if there is no authentication.
             Fixed.
24.11.2005 - Sometimes some jobs get handled twice by FD. This is because
             there is a small time frame where both FD and AMG think they
             are the only process in control of the message queue. This
             is hopefully fixed by adding more locking at critical
             moments.
28.11.2005 - When attaching to FSA or FRA we do not check if the
             current code is able to handle the stored version. This
             should catch the case when someone uses new binaries
             without restarting AFD or mixing old and new binaries.
29.11.2005 - With rename option when files would overwrite each other
             AFD would per default append a ; and a number to the name.
             The ';' has now been changed to a '-'. Reason is that
             some FTP-servers do not allow this and under *nix is
             a bit odd to handle.
30.11.2005 - When opening job details window, do not resize the main
             window, just the popup window.
06.12.2005 - Some Motif versions need -lXp, configure should now detect
             this. This is needed for debian with openmotif.
07.12.2005 - If we try send the data from some log output to some email
             address and we fail because we do not have write permission,
             retry this time using /tmp.
           - asmtp failed to separate mail header from message body.
             Fixed.
08.12.2005 - When calling remote commands via mon_ctrl, make full path
             to the rafdd_cmd/rafdd_cmd_ssh script optional.
------------------------> Released: 08.12.2005 <---------------------------



----------------------------> Version 1.3.2 <------------------------------
                             ---------------
15.12.2005 - When specifying a / in time option in any of the possible
             field, except for min field, could lead to AMG going into
             an endless loop.
18.12.2005 - Function check_permission() may not write to system_log.fifo,
             it may deadlock because process system_log is not running.
22.12.2005 - Selecting one or more directories in dir_ctrl dialog will
             now also show up in show_queue dialog.
01.01.2006 - When storing an old year catch the case when clock goes back
             one second (leap second).
02.01.2006 - Made handling of pty devices more compatible with more
             systems.
06.01.2006 - Empty pool directories are not deleted because we failed
             to take into account that the directory ID was written in
             hex. Fixed.
           - The view_dc dialog now shows the correct directory options
             again.
           - The tool get_dc_data can now show directory options.
08.01.2006 - Don't check each possible return string after we entered
             the password for a SSH connection.
           - When enabling tracing, don't show the password for SSH
             connections.
           - Made trans_log more robust when we encounter unprintable
             characters.
           - AFD now compiles again with configure option --with-gui=none.
10.01.2006 - Fix the error in show_ilog and show_dlog dialog when specifying
             no directory and not showing any data.
17.01.2006 - In mon_ctrl if we have auto switching and a switch takes
             place, kill any open windows to this host.
24.01.2006 - Fix a bug in function eaccess() that could lead to a crash
             of AFD.
26.01.2006 - Make the number of process that may connect to afdd
             configurable in AFD_CONFIG (via MAX_AFDD_CONNECTIONS).
29.01.2006 - Support for SFTP, sending only.
10.02.2006 - Process sf_ftp could crash during a debug session when it
             was deleting previous old temp/dot files. Fixed.
12.02.2006 - Added possibility to not set type image when doing FTP
             transfers.
18.02.2006 - Option to set socket send and receive buffer.
20.02.2006 - Enabling directory from dir_ctrl dialog works again.
22.02.2006 - Enabling/disabling an AFD in mon_ctrl works again.
23.02.2006 - Fix error in ETR_SOCKET_NSL M4-macro which used CFLAGS
             instead of LIBS.
           - Startup/Shutdown afd did not work when fake user was used.
24.02.2006 - Added check for whether the compiler provides a working
             long long.
02.03.2006 - Fixed another error in the function that evaluates the time
             entry, which could lead to AMG going into an endless loop.
06.03.2006 - Do not give a user full permission if afd.users file exists
             but user cannot read the file for whatever reason.
09.03.2006 - Support for duplicate checks on a per host basis.
           - In function check_files() we must remove a CRC from
             the dupcheck list if we fail to pickup the file.
15.03.2006 - When checking if files in the input directory have the
             correct permissions, we failed to check for supplementary
             groups.
16.03.2006 - Implemented group transfer limit.
21.03.2006 - When doing pexec show what command we currently execute
             in the job details window.
28.03.2006 - For option pexec show in TRANSFER_LOG what we are doing
             and how long it took to execute the command.
29.03.2006 - Support for file filters with time modifiers.
01.04.2006 - Process FD may not perform a file dir check when process
             dir_check has queued messages.
05.04.2006 - Dialog show_queue sometimes showed wrong data or even
             crashed, because it was using a variable wrong. Fixed.
06.04.2006 - Hopefully improved SSH/SCP login procedure.
07.04.2006 - Fixed some errors in grib2wmo options.
           - Initializing AFD or AFD_MON should only delete files
             belonging to them.
11.04.2006 - For protocol SCP and when we are doing a burst we must
             also check if the target directories are the same. Since
             SCP protocol does not support changing directories.
19.04.2006 - Dialog dir_info, show_ilog, show_olog, show_dlog and
             show_queue did not work when fake user was used from
             dir_ctrl.
           - The option tiff2gts can now handle other TIFF files with
             WMO headers not only DWD special scanner files. Thanks
             to Laurentiu BROJBOIU!
           - Fix some errors in show_ilog dialog not showing any or
             all data.
------------------------> Released: 20.04.2006 <---------------------------



----------------------------> Version 1.3.3 <------------------------------
                             ---------------
21.04.2006 - When converting the FSA, the memory used must be initialized.
22.04.2006 - Added sendfile() support for FTP. Currently only tested
             for linux.
24.04.2006 - When setting "delete unknown files" to zero, the function
             search_old_files() could delete files that are to be
             distributed. Fixed.
04.05.2006 - Setting FTP type ASCII or BIN had no effect. Fixed.
09.05.2006 - Implemented fetching via SFTP.
12.05.2006 - Handle rename.rule files that do not start with an empty
             line at start correctly.
13.05.2006 - Fix two errors in time expansion function for pattern
             matching.
18.05.2006 - Do not burst when users are not the same and protocol
             is SFTP.
25.05.2006 - It is now possible to view DIR_CONFIG data from the dir_ctrl
             dialog.
04.06.2006 - Added email option 'file name is target'.
10.06.2006 - Delete log knows more different delete types.
11.06.2006 - Dialog show_queue can now handle retrieve jobs.
19.06.2006 - Speedup host listing in edit_hc dialog.
           - In dialog edit_hc adapt length of host alias list when
             MAX_HOSTNAME_LENGTH is changed.
20.06.2006 - Adapt length of show_olog and show_dlog dialog when
             MAX_HOSTNAME_LENGTH is changed.
21.06.2006 - When list limit is reached, don't show the search time
             otherwise the warning showing that list limit is reached
             will be overwritten.
           - Fix an error when sf_xxx delete a file and this was
             shown with garbage in delete log.
26.06.2006 - When rereading DIR_CONFIG reset protocol flags, otherwise
             protocols will accumulate until AMG is restarted.
27.06.2006 - When downloading a file with leading dot remove the dot
             when finish downloading.
           - Optionally allow for duplicate directories when the
             directories are in different DIR_CONFIGS (configure with
             --enable-multi_dir_definition).
30.06.2006 - Added directory option 'accept dot files', so files with
             a leading dot can be downloaded from a remote host.
04.07.2006 - When we delete old files from the queue we must subtract
             those from the queued files in FRA.
           - When opening an afd_ctrl dialog via mon_ctrl it was not
             possible to open the dir_ctrl dialog via mon_ctrl. Fixed.
------------------------> Released: 05.07.2006 <---------------------------



----------------------------> Version 1.3.4 <------------------------------
                             ---------------
20.07.2006 - Added option 'convert mrz2wmo', to convert GRIB, BUFR, BLOK
             files to WMO files (10 byte length/type indicator plus
             SOH and ETX at start and end).
23.07.2006 - SFTP and SCP can both now take the host fingerprint and
             handle the known_hosts file.
           - Option -T for show_stat and show_istat to just show numeric
             total values.
27.07.2006 - Process afdd now sends some statistic data to afd_mon.
02.08.2006 - For the option 'file name is header' allow for a dot being
             the end of the header information.
05.08.2006 - Enhanced option 'subject' to allow for inserting the
             filename or part of it.
06.08.2006 - Updated optimization option for gcc compiler for newer CPU's.
           - Added option --enable-compiler-security to add gcc security
             features.
08.08.2006 - When a retrieve job is removed by hand, it would always
             popup in the queue again, because we forgot to calculate
             a new fetch time.
09.08.2006 - Error jobs for retrieve jobs where not aging in the queue.
             Fixed.
           - Added LIST_ERROR to the errors where we need to apply aging.
12.08.2006 - Added extended commands EPRT and EPSV for FTP.
17.08.2006 - Implemented for HTTP fetching to continue an interrupted
             download where it stopped just before the interrupt.
18.08.2006 - Added handling of directory listing for HTTP. Currently
             we can handle only a few listings from Apache web servers.
             More will be added.
20.08.2006 - For the option 'store remote list' added parameter 'once'
             to retrieve files only once. This is useful for directories
             with lots of files and when the protocol forces us to poll
             each individual file for any changes in modification time
             and/or size.
23.08.2006 - Made directory option 'store remote list' now also work
             for local directories. For this reason the option is renamed
             to 'store retrieve list'. The old option name will still
             work for a while, but will eventually be removed.
24.08.2006 - Added option DELETE_STALE_ERROR_JOBS in AFD_CONFIG to
             remove error jobs queued that are no longer in DIR_CONFIG.
26.08.2006 - Implemented persistent connection for retrieving files.
27.08.2006 - Close an unneeded file descriptor in process AMG.
28.08.2006 - get_dc_data and dialog view_dc can now show all data when
             a host alias is used for retrieving and sending.
19.09.2006 - The extract option now can handle parameters which can handle
             if SOH and ETX is added or not, a CRC checksum is added to
             the filename and/or a unique number is added to the filename.
20.09.2006 - Proftpd server does not send a reply to NLST command when
             directory is empty. Added a workaround.
24.09.2006 - Show the number of directories scanned on a daily basis.
27.09.2006 - If the text in the mail body had a leading dot, AFD did
             not add another dot as specified in RFC 821. Fixed.
28.09.2006 - Added option to make trans_rename apply only for primary or
             secondary host.
           - When showing information in the show_queue dialog, show
             the directory alias of a job.
29.09.2006 - When disabling a directory and it is one retrieving files
             from a remote host, we need to remove the job from the queue
             in process FD.
05.10.2006 - Added configure option --enable-multi_dir_scans for systems
             that do not update the modification time of the scanned
             directory correctly.
16.10.2006 - The view_dc dialog sometimes shows garbage at the end. Fixed.
20.10.2006 - Function check_file_dir() will delete all files or directories
             of a job when they start with a leading dot and the job is
             done.
23.10.2006 - In the URI it is now possible to specify the SSH protocol
             to be used for SFTP or SCP with the help of protocol= option.
28.10.2006 - Selecting a directory and then calling show_ilog, show_olog
             show_dlog and/or show_queue did not work from the dir_ctrl
             dialog. Fixed.
30.10.2006 - Accept " when specifying the file name for option 'mail header'.
31.10.2006 - When we fail to create a directory or even when we do not
             have sufficient permissions, we now accept it. Before we just
             ignored this directory. This behavior had the disadvantage
             that one always had to restart AFD once the directory was
             added.
06.11.2006 - When the host alias name is equal or longer then
             MAX_HOSTNAME_LENGTH (8), don't put the switching number/letter
             at end when logging in TRANSFER_LOG.
07.11.2006 - Renaming for options "attach file" and "attach all files" did
             not work. Fixed.
           - Implemented an error queue that stores the job ID's of broken
             (ie. those that do not work) jobs. So if for example the remote
             directory of one job is not available, but another job with
             another working directory to the same destination, will no
             longer be blocked.
08.11.2006 - Dialog afd_ctrl could crash when a parallel transfer was added
             or removed from a host. Fixed.
           - In rename.rule allow user to specify rules with spaces.
09.11.2006 - The send button in show_olog and show_queue dialog did not
             work for other users under certain conditions. Fixed.
           - If dialogs cannot open $AFD_WORK_DIR/etc/afd.users file due to
             permissions, give out some more meaningful messages.
           - When process FD is stopped it must ensure that sending process
             do not leave behind any empty directories.
10.11.2006 - New directory option 'warn time', to warn user when the
             directory has not received any data for the specified time.
             This will be shown by the middle bar in the dir_ctrl dialog.
13.11.2006 - Allow for multiple time entries under options.
14.11.2006 - Show queued time jobs in show_queue dialog.
16.11.2006 - Corrected some errors in AFD init script when having multiple
             users configured.
17.11.2006 - Make creation of source directories in AFD_CONFIG configurable.
18.11.2006 - Function calc_next_time() did not calculate the correct time
             when the current minute was 59. Fixed.
21.11.2006 - tr and fr fields where swapped in dir_ctrl dialog. Fixed.
13.12.2006 - Fix an error in "extract ASCII" that could lead to a crash
             of process dir_check.
20.12.2006 - Implemented no last suffix option for dupcheck option.
10.01.2007 - If AFD is already stopped do not return a -1 when doing
             a 'afd -s' or 'afd -S' it now returns a 10. This makes it
             possible to detect if AFD was shutdown properly.
08.02.2007 - Added afdcfg option to enable or disable 'warn time' for
             directories.
23.02.2007 - Specifying the parameter '-a -2' for program aftp did not
             work since it thought that the -2 is a new option.
25.02.2007 - Fix a memory leak in process dir_check when the host alias
             order is changed with edit_hc dialog.
27.02.2007 - For HTTPS guard SSL_read() from blocking, since we are using
             SSL_MODE_AUTO_RETRY.
01.03.2007 - Give user the option to disable bursting on a per host basis.
06.03.2007 - Function check_fsa_entries() did not reset the queue flag in
             FRA when it was resetting this.
15.03.2007 - The dir alias name was truncated to 8 characters when calling
             show_istat with a dir alias as parameter. Fixed.
23.03.2007 - Fix an error in show_istat which could lead to wrong sums.
           - When using passive FTP ignore the remote IP part, only
             take the port.
24.03.2007 - Finish implementing of collecting all log data by afd_mon
             from monitored AFD's.
27.03.2007 - When doing a burst and duplicate check is enabled we must
             pass on the number of retries, otherwise when we do the
             duplicate check will delete data that we still need to send.
------------------------> Released: 27.03.2007 <---------------------------



----------------------------> Version 1.3.5 <------------------------------
                             ---------------
31.03.2007 - Process FD could crash if it removed file filters from the
             internal database due to an error in function init_msg_buffer().
           - When starting AFD via 'afd -a' it must wait until init_afd
             has started up, otherwise starting AFD via init script
             (/etc/init.d/afd) might not start after a system crash.
01.04.2007 - Fix an error in pmatch() and sfilter() function where they
             could not handle the case "r10013*00" r10013301000.
03.04.2007 - If DEFAULT_SMTP_SERVER is set in AFD_CONFIG and none specified
             in DIR_CONFIG, sf_smtp() would fail to send the mail. Fixed.
07.04.2007 - Created new program afd_hex_print to view binary data.
09.04.2007 - Added button to show_olog dialog to view data in archive.
11.04.2007 - Improved set_pw program so it can handle input from mouse
             as well, not just the keyboard.
           - Did not compile with --disable-dupcheck_support. Fixed.
13.04.2007 - When afdd has no log data to send it sends empty log data
             at regular intervals.
           - Added user errors to those types of errors that need to
             age.
24.04.2007 - Fix error in 'wait for' directory option.
25.04.2007 - Fix two memory leaks in show_queue.
           - Added button to show_queue dialog to view data in queue.
30.04.2007 - When process return abnormally try pass more information
             what might be the cause of it.
           - Recount files when we rename and overwrite files.
01.05.2007 - udc and uhc now expect a response from AMG if the action
             was successful or not.
06.05.2007 - Fix error where afd_mon hangs when reading from fifo.
09.05.2007 - Moved window id from fifodir to users home directory.
16.05.2007 - Calculate correct file size when using 'convert mrz2wmo'.
17.05.2007 - During evaluation of DIR_CONFIG, check if options are correct.
22.05.2007 - Allow user to set some other unit for option archive.
23.05.2007 - Function get_dir_option() returned for 'delete old locked files'
             the value from 'delete queued files'. Fixed.
30.05.2007 - Replaced pmatch function with that from Karl Heuer, which also
             adds support for listing characters in [].
03.06.2007 - Added new status ERROR_ACKNOWLEDGED and ERROR_OFFLINE to
             host status in afd_ctrl dialog.
04.06.2007 - Added fix for HPUX which cannot handle more then one shared
             mmap() from one process to the same file.
05.06.2007 - Use mmap() to write pid's to AFD_ACTIVE file.
10.06.2007 - Added event log.
12.06.2007 - Hopefully improved error handling when file_masks file
             in fifodir gets corrupted.
20.06.2007 - Fix error in initializing socket() function.
21.06.2007 - Split transfer status LED in two half's indicating direction
             of transfer.
24.06.2007 - Created new dialog to handle events.
           - Added event handler to afd_ctrl dialog.
26.06.2007 - Added permission check for udc and uhc.
29.06.2007 - When updating DIR_CONFIG it could happen that certain retrieve
             jobs would no longer work until FD was restarted. An additional
             check was added that tries to detect such a situation and
             correct it automatically.
01.07.2007 - Do not calculate a new directory scan time if the directory
             was full.
04.07.2007 - Changed meaning of show_dlog and show_elog in afd.users file.
             show_dlog now means the delete log, transfer debug log is
             now set with show_tdlog. show_elog now means event log,
             the delete log is now set with show_dlog.
13.07.2007 - For the extract option it is possible to only extract certain
             files.
15.07.2007 - Implemented new dialog show_elog to view the event log.
           - Allow event log to be centralized via afd_mon.
------------------------> Released: 24.07.2007 <---------------------------



----------------------------> Version 1.3.6 <------------------------------
                             ---------------
25.07.2007 - Fix an error that caused mon_ctrl to crash when it called
             another program.
26.07.2007 - When using server= and the name specified is only an alias,
             process sf_smtp would try to connect to this alias. Fixed.
08.08.2007 - For the dialog where you can select event actions, added a
             button to toggle all events.
           - When allocating memory for storing file names from a
             directory, don't set this to the full value specified by
             the user (max files) at once. Allocate it in hunks until we
             reach the maximum specified by the user.
           - For show_olog, instead of printing directly to the printer
             (via redirecting the output), write to a file and then print
             the file.
           - Added init script for AFD monitor.
12.08.2007 - Close open file descriptors for dialog show_elog.
13.08.2007 - If host alias has the error/warnings set offline or to
             acknowledge, the reason can be seen by clicking on the
             host alias field in afd_crl dialog.
30.08.2007 - AFDD now properly checks current AFD message list.
31.08.2007 - When checking if another AFD is active make the timeout
             tuneable via command line argument.
           - Possibly fix SIGBUS error of process afdd when rereading
             DIR_CONFIG.
02.09.2007 - Added splice() support in copy_file() and to sf_loc to
             reduce system load.
04.09.2007 - Remove a race condition from error queue that could lead
             to a host with an error queue always set.
           - If a job is no longer in DIR_CONFIG, immediately remove
             it from the error queue.
           - If error queue is empty do check if no host in FSA has
             the error queue set.
09.09.2007 - Speedup function archive_file(), by removing some unnecessary
             system calls and/or replacing them by more efficient calls.
10.09.2007 - When bursting a job of the same job ID we must recheck if
             error queue flag is set. Otherwise it can happen that we
             service a job that is in error queue but do not unset it after
             being done.
           - Process afd_mon always tries to restart log_mon for a
             disabled AFD. Fixed.
11.09.2007 - When host name is specified dialog show_ilog response to user
             input was very slow. Fixed.
           - Added program to edit some values in FRA.
12.09.2007 - Program jid_view now shows the directory name. It is now
             possible to supply multiple job ID's as parameters.
           - Program get_dc_data did not find all jobs when the job
             list is no longer in order. Fixed.
13.09.2007 - When multiple DIR_CONFIG's are defined in AFD_CONFIG, show
             the full path of the DIR_CONFIG to which the job belongs
             when viewing the configuration for a host.
20.09.2007 - Added script afd_unused_infos to show, delete or move unused
             INFO-* files.
21.09.2007 - When directory option 'ignore size' or 'ignore file time' is
             set and the option 'delete unknown files' is set, it will
             delete those files if the size or time do not match.
           - The button 'Attach file' was not correctly attached in the
             xsend_file dialog so it was not visible. Fixed.
           - In xsend_file dialog entering a mail server had no effect.
             Fixed.
           - A directory scan that does not find any files is now
             reported in RECEIVE_LOG. This can be disabled with the
             configure option --disable-report_empty_dir_scan.
29.09.2007 - Implemented persistent connection for transmitting files.
           - To much valuable time is lost when FD is catching its
             zombies. By inserting a zombie queue FD can now spawn
             much faster new process.
           - Show a message when someone tries to do a retry of a
             stopped or disabled host that this is not possible.
10.10.2007 - Fetching files via HTTP together with the directory option
             'do not get dir list' did not work with file filters having
             %t modifier and other modifiers. Fixed.
03.11.2007 - Added option to use scheme file if the hostname matches with
             the nodname on which AFD is running.
08.11.2007 - Added configuration file 'local_interface.list' where one
             can configure local interfaces so AFD can use scheme file
             on those interfaces.
10.11.2007 - Dialog afd_info shows in the protocol line if it is active,
             passive or extended active/passive mode.
16.11.2007 - When changing the name of the host alias, it could happen
             that no more files get distributed for the new host alias
             name.
23.11.2007 - Process dir_check will now continue to try scan a directory
             once it was not accessible.
------------------------> Released: 26.11.2007 <---------------------------



----------------------------> Version 1.4.0 <------------------------------
                             ---------------
30.11.2007 - Program asmtp did not send the correct subject identifier.
           - Dialog xsend_file sends an incorrect mail address.
02.12.2007 - When keep_alive is set, take timeout - 5 as the interval
             time at which to send the stat command.
           - Since most FTP-servers do not handle the STAT command
             ignore any negative replies in function ftp_keep_alive().
06.12.2007 - Added parameter -C to view_hosts to cut away any additional
             alias names.
           - Dialog show_queue shows wrong directory when called with
             selection from dir_ctrl dialog if directory identifier is
             larger then 31 bits.
11.12.2007 - For some unknown reasons it can happen that afd_ctrl dialog
             calculates the wrong position of a line causing it to show
             a warning popup each time the mouse pointer enters the dialog.
             Added some more checks in the code to catch this case.
13.12.2007 - Stopping afd_mon via mafd command line returns -1 when it
             was already stopped. It should return 10, so it does not
             confuse heartbeat.
06.01.2008 - Restructured the action directory so they have a common
             structure for source and target.
           - Added option to have a default action file.
07.01.2008 - When checking syntax of options, check if the subject or
             mail header file do exist and are readable.
09.01.2008 - Some older SSH servers return success when changing into a
             non-existing directory. Added a workaround for such older
             SSH servers.
15.01.2008 - The production log shows the job ID, size of the new data
             and the return code.
22.01.2008 - In AFD_CONFIG it is possible to set a default reply-to for
             mail with the identifier DEFAULT_SMTP_REPLY_TO.
24.01.2008 - Correct an error in set_pw when host alias is longer then
             8 (MAX_HOSTNAME_LENGTH) characters.
30.01.2008 - Check for option 'convert sohetxwmo' that the original file
             does contain the <CR><CR><LF> after the SOH and before the
             ETX. Otherwise add it.
31.01.2008 - The production log did not show the correct entries when
             for example more then one file is untared. Fixed.
15.02.2008 - In documentation the rename options %adx and %ahx are mentioned
             but never implemented. Fixed.
           - If the last rule in rename.rule was not terminated with a
             newline, the last character of that rule was dropped. Fixed.
17.02.2008 - In afd_ctrl dialog draw to off-screen pixmap to simply and
             speedup redrawing after an expose event.
19.02.2008 - Make dialog show_elog more robust when encountering unknown
             events.
21.02.2008 - Added host toggle and number of retries to OUTPUT_LOG.
           - Implemented support for setting SO_KEEPALIVE and TCP_KEEPALIVE.
22.02.2008 - Change format of DELETE_LOG so that it can accommodate more
             delete reasons, insert both job ID and dir ID if available
             and separate additional reasons with a | (pipe) sign.
24.02.2008 - In mon_ctrl and dir_ctrl dialog draw to off-screen pixmap to
             simply and speedup redrawing after an expose event.
25.02.2008 - When deleting files with delete option, the file name and size
             logged in DELETE_LOG where incorrect. Fixed.
26.02.2008 - If one sets the maximum number of log files to 1 in AFD_CONFIG,
             the log files are then never truncated, ie. they would
             increase in size forever. Fixed.
28.02.2008 - Due to an error dialogs show_ilog, show_olog and show_olog did
             not show directory options. Fixed.
           - The information window of show_ilog and show_dlog now only
             shows matching information, not information of some other
             job that does not apply.
           - Adapted dialog show_dlog to the new DELETE_LOG format.
02.03.2008 - Checking the file directory for jobs without messages is
             now done by dir_check.
04.03.2008 - For mon_ctrl dialog, when we get the first expose event do
             all the drawing to the pixmap and then display the pixmap.
05.03.2008 - Added chmod option to command line tool aftp.
           - New dupcheck type that checks filename and size.
08.03.2008 - If keep connected is set for a fetching job and no time
             option is specified under [dir options], then keep
             connected will not work.
           - If DIR_CONFIG is updated all fetching process (gf_*) would
             only notice the change for FSA but not for FRA. Fixed.
           - Added -s to exec option to store the files if the exec failed.
09.03.2008 - Selecting an alias in afd_ctrl or dir_ctrl dialog and then
             view the event log will now only show host or directory events
             for the respective alias.
12.03.2008 - When last entry in etc/group.list is not terminated by a
             newline the sf_smtp process would crash. Fixed.
19.03.2008 - The ssh code did not handle banners send by the remote ssh
             daemon correctly. It always think that the remote server
             denied connection. Fixed.
25.03.2008 - Implemented log analyzer tool (alda) to search local logs.
31.03.2008 - When process fd starts it now checks if the positions in
             the queue buffer are still correct. The incorrect position
             can happen with an unclean shutdown.
10.04.2008 - Added extract ZCZC.
17.04.2008 - Removed unnecessary restriction that file names may only
             contain alphabetic characters and wildcards in directory
             option 'wait for'.
25.04.2008 - URL is now handled by one single function.
01.05.2008 - Solve problem with HTTP chunk reading and fetching files.
           - When viewing the TRANSFER_LOG for selected hosts via afd_ctrl
             dialog we cannot just take a question mark for the toggling
             character, we now insert the possible toggling characters.
06.05.2008 - Fixed error where FD fails to start a new process for a
             host that has just been added.
08.05.2008 - New option to update directory time stamps in FRA when
             enabling directory warn time.
09.05.2008 - When renaming we do not check if the original file name is long
             enough when using the %o or %O option. Fixed.
17.05.2008 - Viewing log files now also works with Lesstif.
20.05.2008 - exec_cmd did not show everything written on stdout on slow
             systems. Fixed.
22.05.2008 - Added distribution log.
02.06.2008 - Remove change from 04.03.2008, it hardly made any difference.
           - Do not show the hostnames of error host that have been set
             offline.
07.06.2008 - Added function to get HTTP options of server.
17.06.2008 - If we fail to access the target directory, put this job into
             the error queue.
22.06.2008 - When a job gets removed from error queue, reset error counter
             to open queue again.
           - Fix an error in function validate_error_queue() where the
             host_id, which is unsigned int, was compared with a signed
             int.
23.06.2008 - Added option to not delete data on a per host basis if
             age-limit or 'delete queued files' is set.
05.07.2008 - It is now possible to add multiple time options for a
             directory.
06.07.2008 - Added function to automatically convert JID if we change it.
09.07.2008 - Fix error in function handle_delete_fifo() that could lead
             to deleting all files currently processed by AFD.
10.07.2008 - Deleting retrieve jobs via show_queue dialog sometimes caused
             that this retrieve job was completely ignored by AFD.
17.07.2008 - Added ulock option, to do unique locking.
22.07.2008 - In show_ilog dialog when showing information of a specific
             file, also show the job ID.
28.07.2008 - If group.list file was not terminated by two newlines it
             would try send mails to some none existing user. Fixed.
04.08.2008 - Sequence logging can now also be set via HOST_CONFIG.
02.09.2008 - In edit_hc dialog when using drag an drop to change host
             order and then do changes to the moved host, the previous
             host on this position is updated. Fixed.
10.09.2008 - Rescan source directory if specified file size or time has
             not been reached.
13.09.2008 - When transfer rate limit is used, take into account hosts
             that keep connected.
14.09.2008 - In info dialog of show_ilog, show_olog and show_dlog, show
             directory ID and alias.
           - Increase transfer block size up to 8 MiB.
17.09.2008 - /etc/init.d/afd script can now start multiple AFD's for one
             user if environment variable MULTI_AFD_DIRS is set with a
             space separated list of working directories.
04.10.2008 - Fix an error when having multiple DIR_CONFIG's with a same
             source directory.
10.10.2008 - Added support for O_CLOEXEC.
11.10.2008 - For option convert sohetx2wmo0 or sohetx2wmo1 accept
             bulletins which just have a line feed.
           - The options convert sohetxwmo now detects if the given
             bulletin does already have a WMO length indicator.
17.10.2008 - Option convert sohetx2wmo0 and sohetxwmo now correct
             start and end if they do not contain a <CR><CR><LF> before
             an ETX or after a SOH.
24.10.2008 - Fix permissions of file_mask file, so other users can
             read it.
06.11.2008 - Make doc's and mandir configurable with configure and
             RPM spec files.
07.11.2008 - Accept DOS-style files as configure files.
16.11.2008 - Added SMTP authentication.
20.11.2008 - Added parameters unix2dos, dos2unix, lf2crcrlf and crcrlf2lf
             to convert option.
23.11.2008 - In mon_ctrl dialog, show different colors when number of
             jobs queued reaches a dangerous value.
07.12.2008 - Option extract can now extract individual reports from a
             WMO bulletin.
10.12.2008 - It is now possible to specify the port number with the
             DEFAULT_SMTP_SERVER option in AFD_CONFIG.
20.12.2008 - For option 'prefix del' if files would overwrite AFD would
             not detect this and dialog afd_ctrl shows wrong numbers.
             Fixed.
           - Added parameter overwrite to basename and extension options.
           - Files which are overwritten by a one of the rename options
             (rename, basename, extension, toupper, tolower, prefix add,
             prefix del) are now logged in DELETE_LOG (type = 'rename
             overwrite').
03.01.2009 - In afd_stat we did not catch the case when day counter is
             not reset during a leap second when time can go back a second.
21.01.2009 - Function clear_pool_dir() opened DIR_NAME_FILE (directory_names)
             for each directory it found in pool directory. Fixed.
           - Added support for GRIB version 2.
22.01.2009 - When adding the filename to the subject with the %s option,
             add all filenames, if there are more then one and 'attach all
             files' is set.
23.01.2009 - When sending mail and the mail server rejects the mail
             because it does not know the recipient, the data for
             the job is now deleted.
01.02.2009 - Info window in show_queue dialog now shows directory options.
03.02.2009 - Try handle the case better when the AFD_ACTIVE file gets
             deleted while AFD is still active and we do a shutdown.
05.02.2009 - If the source directory is not in the same file system as
             AFD and the permissions of AFD are such that it may not
             delete the files, AFD would always copy all files from
             that directory as soon as a new one arrives. This is now
             fixed by removing the destination file when we fail to
             unlink the source file.
14.02.2009 - If file gets deleted during transmission (age, duplicate
             check, is currently transmitted by other process), it is
             logged in OUTPUT_LOG. It will however not been shown by
             show_olog dialog.
22.02.2009 - Implemented bursting for SMTP.
16.03.2009 - Added support for different language translations.
25.03.2009 - Fix get_file_checksum() so it calculates checksum of complete
             file, not just one block. Thanks to Tan Xiaoh for spotting
             and fixing this.
29.03.2009 - The internal AFD counters are now handled via memory mapped
             files. This was done to reduce the number of file locks,
             generated by AFD.
06.04.2009 - Process afdd now takes the bytes send values from each
             individual job. This gives more realistic numbers in
             mon_ctrl dialog.
07.04.2009 - When taking CREATE_SOURCE_DIR_MODE from AFD_CONFIG, convert
             this value to integer from octal. Thanks to Tan Xiaoh
             for fixing this error.
08.04.2009 - With a long list of jobs dialog show_dlog would crash when
             viewing information of a file deleted. Fixed.
11.04.2009 - Implemented warn time for a host alias. That is when for
             a given host no data has been send or received in the
             specified time, it will be orange in afd_ctrl dialog and
             if an action is specified, this will be executed.
12.04.2009 - Specifying dupcheck as [options] had no effect. Fixed.
18.04.2009 - Implemented compression for protocols SCP and SFTP.
23.04.2009 - Don't delete directory listing if we get a timeout while
             scanning directories via HTTP.
04.05.2009 - Added success action.
06.05.2009 - If all files of a job are deleted (age-limit, duplicate
             check, etc) and we are doing a burst it can happen that
             files are send into the wrong target directory. Fixed.
09.05.2009 - To further reduce the locking overhead, we now accumulate
             lockable data and commit this data at every
             LOCK_INTERVAL_TIME (1 second) interval.
10.05.2009 - When doing a shutdown check if we really are on the host
             where AFD is active.
18.06.2009 - Fix overflow bug in transfer, receive and monitor log
             process.
21.06.2009 - Split up jobs when we receive files from a remote host.
08.07.2009 - In URL part of configuration allow for user to enter special
             charaters with a % sign plus two hexa digits representing the
             ASCII character.
09.07.2009 - Fix bug when specifying keep connected for a retrieving job
             but not setting a time option under [dir options].
14.07.2009 - Implemented openssh extension for POSIX rename for SFTP.
16.07.2009 - When stopping transfer for a job that is using pexec
             and the job is restarted, the pexec is then ignored.
             Fixed.
18.07.2009 - In afd_ctrl dialog we can now also search by protocol, not
             just by name.
24.07.2009 - set_pw can now also set passwords in a directory URL string.
06.08.2009 - Added support for starting and stopping a directory.
07.08.2009 - Do not remove event log fifo when we start AFD.
08.08.2009 - Handle case when starting AFD and in file/pool there are
             more then MAX_COPIED_FILES (100) files in one pool.
20.08.2009 - Handle more MIME extension for file attachments in mail.
24.08.2009 - afd_ctrl dialog search function can now search in information
             file as well.
03.09.2009 - In afd boot initscript replace Required-Start and Required-Stop
             with Should-Start and Should-Stop respectively. To this
             we add the additional requirements $time and $remote_fs.
17.09.2009 - Process afdd may not use write() system call to write
             128KiB in one hunk on a socket. Use writen() in case the
             writes are segmented.
21.09.2009 - Ensure that one cannot set transfer blocksize to zero in
             HOST_CONFIG.
29.09.2009 - Added option to keep the time stamp of the source file.
           - Made the sorting of the file names an option. The default
             now is to do no sorting.
05.10.2009 - Added script (mirror_fra_cfg) to mirror directory
             configurations.
13.10.2009 - Detect openmotif version of rpmfusion for Fedora.
21.10.2009 - In afd_ctrl dialog if we select host and we want to view
             the Receive Log, only show data of the selected hosts.
01.11.2009 - Added AFD logo as default icon to all motif windows.
03.11.2009 - Information window in show_queue dialog can now handle
             longer information list and does not crash due to the
             list being to long.
04.11.2009 - With option 'file name is header' do better checking if
             we do have valied BBB group in WMO header.
16.11.2009 - For option assemble, fix problem where target file name
             is the same as one of the source files.
------------------------> Released: 26.11.2009 <---------------------------
