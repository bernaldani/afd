<HTML>
<HEAD>
<TITLE>AFD (fd.html)</TITLE>
</HEAD>
<BODY bgcolor=#F0ECD6>
<H1 ALIGN=center><A NAME="fd">FD (File Distributor)</A></H1>
<HR SIZE=3 NOSHADE>
<P>
The FD is responsible to send the files via the corresponding
protocols. Currently only the FTP and SMTP protocol is implemented.
</P>
<P>
It waits for messages to arrive in the message directory to start
the corresponding process <A HREF="#send_file_local">sf_loc</A>,
<A HREF="#send_file_smtp">sf_smtp</A> or <A HREF="#send_file_ftp">
sf_ftp</A>, so that the files can be distributed. Only 20
(MAX_CONNECTIONS) processes may distribute files at one time. To
many concurrent process will slow down the transmissions on slow CPU's.
</P>
<H3><A NAME="send_file_ftp">Send File FTP</A></H3>
<P>
'sf_ftp' is the process responsible to transmit files via
<A HREF="glossary.html#FTP">FTP</A>. It does so by using its own FTP-client
that has build in a subset of the FTP protocol (<A HREF="../txt/rfc959.txt">
RFC 959</A>). This has the advantage that the transfer of a file can be
monitored byte for byte and not file by file, when using the client of the
implementation. Another advantage is that, since the clients of different
implementation differ, it makes the AFD more portable.
</P>
<P>
The FTP-client of the AFD currently has the following features:
</P>
<UL>
   <LI>Change the transfer type.</LI>
   <LI>Change the remote directory.</LI>
   <LI>Delete files on the remote site. This is useful when
       sending lock files.</LI>
   <LI>It appends a file on the remote site when the transmission was
       interrupted. This is very useful with very large files and buggy
       connections.</LI>
   <LI>Get a 'dir' listing from the remote site.</LI>
   <LI>Show all commands it sends and receives from the remote server
       in a log file (see <A HREF="log.html#transfer_debug_log">Transfer
       Debug Log</A>). This helps to locate errors very quickly when
       the transfer has failed.</LI>
</UL>
<H3><A NAME="send_file_smtp">Send File SMTP</A></H3>
<P>
This program is used to send mail via <A HREF="glossary.html#SMTP">SMTP</A>
according to MIME (<A HREF="../txt/rfc1521.txt">RFC 1521</A> and
<A HREF="../txt/rfc1522.txt">RFC 1522</A>). With the
<A HREF="amg.html#attach_file">attach file</A> option it is possible
to send binary files as mail. The encoding will be done in BASE64.
</P>
<H3><A NAME="send_file_local">Send File Local</A></H3>
<P>
This process moves (when in the same file system) or copies the files from
one directory to another.
</P>
<H3><A NAME="send_file_wmo">Send File WMO</A></H3>
<P>
This program is only useful if files should be send with the WMO-socket
procedure.
</P>
<HR SIZE=3 NOSHADE>
<TABLE>
<TR>
   <TD WIDTH=600><SMALL><ADDRESS>
   Copyright &copy; 1997 - 1999 by H.Kiehl<BR>
   <A HREF="mailto:Holger.Kiehl@dwd.de?subject=AFD Homepage">Holger.Kiehl@dwd.de</A><BR>
   Last updated: 17.10.1999
   </ADDRESS></SMALL></TD>
   <TD><SMALL><IMG ALIGN=middle SRC="../images/reddot.gif"><A HREF="contents.html">Index</A></SMALL></TD>
   <TD><SMALL><IMG ALIGN=middle SRC="../images/reddot.gif"><A HREF="index.html">Home</A></SMALL></TD>
</TR>
</TABLE>
</BODY>
</HTML>
